# generated: 2025-12-12
# project: nysm
# project_key: NYSM
# tracking_system: file-system
# story_location: "{project-root}/docs/sprint-artifacts"

# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic exists in epic file but not contexted
#   - contexted or in-progress
#   - done: Epic completed
#   - future: Post-MVP epic, deferred until proof-of-concept validated
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - drafted: Story file created in stories folder by *create-story
#   - ready-for-dev: Draft approved and story context created by *story-ready
#   - in-progress: Developer actively working on implementation by *dev-story
#   - review: Implementation complete, ready for review by *code-review
#   - done: Story completed by *story-done
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - completed: Retrospective has been done by *retrospective
#
# WORKFLOW NOTES:
# ===============
# - Epics should be marked `in-progress` before stories can be marked beyond `backlog`
# - SM typically drafts next story ONLY after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', dev reviews, then Dev moves to 'done'

generated: 2025-12-12
project: nysm
project_key: NYSM
tracking_system: file-system
story_location: "{project-root}/docs/sprint-artifacts"

development_status:
  # Epic 1: Foundation & IR Core
  epic-1: done
  1-1-project-initialization-ir-type-definitions: done
  1-2-constrained-irvalue-type-system: done
  1-3-typed-action-outputs-with-error-variants: done
  1-4-rfc-8785-canonical-json-marshaling: done
  1-5-content-addressed-identity-with-domain-separation: done
  1-6-cue-concept-spec-parser: done
  1-7-cue-sync-rule-parser: done
  1-8-ir-schema-validation: done
  epic-1-retrospective: optional

  # Epic 2: Durable Event Store
  epic-2: done
  2-1-sqlite-store-initialization-migrations: done
  2-2-event-log-schema-with-logical-clocks: done
  2-3-write-invocations-and-completions: done
  2-4-read-flow-and-query-support: done
  2-5-sync-firings-table-with-binding-hash: done
  2-6-provenance-edges-table: done
  2-7-crash-recovery-and-replay: done
  epic-2-retrospective: optional

  # Epic 2 complete! All 7 stories done.

  # Epic 3: Sync Engine Core
  epic-3: done
  3-1-single-writer-event-loop: done
  3-2-sync-rule-registration-and-declaration-order: done
  3-3-when-clause-matching: done
  3-4-output-case-matching-for-errors: done
  3-5-flow-token-generation: done
  3-6-flow-token-propagation: done
  3-7-flow-scoped-sync-matching: done
  epic-3-retrospective: optional

  # Epic 3 complete! All 7 stories done.

  # Epic 4: Query & Binding System
  epic-4: done
  4-1-queryir-type-system: done
  4-2-queryir-validation: done
  4-3-sql-backend-compiler: done
  4-4-binding-set-execution: done
  4-5-then-clause-invocation-generation: done
  epic-4-retrospective: optional

  # Epic 4 complete! All 5 stories done.

  # Epic 5: Idempotency & Cycle Safety
  epic-5: done
  5-1-binding-level-idempotency-enforcement: done
  5-2-idempotency-in-replay-scenarios: done
  5-3-cycle-detection-per-flow: done
  5-4-max-steps-quota-enforcement: done
  5-5-compile-time-cycle-analysis: done
  epic-5-retrospective: optional

  # Epic 5 complete! All 5 stories done.

  # Epic 6: Conformance Harness
  epic-6: done
  6-1-scenario-definition-format: done
  6-2-test-execution-engine: done
  6-3-trace-assertions: done
  6-4-final-state-assertions: done
  6-5-operational-principle-validation: done
  6-6-golden-trace-snapshots: done
  epic-6-retrospective: optional

  # Epic 6 complete! All 6 stories done.

  # Epic 7: CLI & Demo Application
  epic-7: done
  7-1-cli-framework-setup: done
  7-2-compile-command: done
  7-3-validate-command: done
  7-4-run-command: done
  7-5-replay-command: done
  7-6-test-command: done
  7-7-trace-command: done
  7-8-demo-concept-specs: done
  7-9-demo-sync-rules: done
  7-10-demo-scenarios-and-golden-traces: done
  epic-7-retrospective: optional

  # ============================================================================
  # POST-MVP EPICS (Future Work)
  # ============================================================================
  # These epics capture work deferred until after proof-of-concept validation.
  # They address scalability, hardening, and advanced features from the whitepaper.

  # Epic 8: Scalability & Hardening
  # Addresses technical debt and production-readiness concerns identified during
  # Epic 5 consensus review. Required before high-concurrency deployments.
  epic-8: future
  8-1-cycle-detector-atomic-check-and-record: future  # Fix check-then-act race condition
  8-2-cycle-detector-sharded-locking: future          # Replace global mutex with per-flow or sharded locks
  8-3-quota-state-persistence: future                 # Persist QuotaEnforcer state across restarts
  8-4-cycle-detector-ttl-eviction: future             # TTL/LRU eviction for missed Clear() calls
  8-5-distributed-cycle-detection: future             # Cycle detection across multi-node deployments
  8-6-binding-hash-completeness-audit: future         # Verify hash captures all relevant state
  epic-8-retrospective: optional

  # Epic 9: Custom DSL
  # Replace CUE-based spec language with purpose-built DSL for sync rules.
  # Enables better error messages, IDE tooling, and domain-specific optimizations.
  epic-9: future
  9-1-dsl-grammar-design: future                      # Define grammar for concept specs & sync rules
  9-2-dsl-lexer-parser: future                        # Implement lexer and parser
  9-3-dsl-ast-to-ir: future                           # AST to IR transformation
  9-4-dsl-error-messages: future                      # Human-friendly error reporting
  9-5-dsl-language-server: future                     # LSP for IDE integration
  epic-9-retrospective: optional

  # Epic 10: Advanced Whitepaper Features
  # Additional capabilities from the source whitepaper deferred to post-MVP.
  epic-10: future
  10-1-nested-flow-hierarchies: future                # Parent/child flow relationships
  10-2-flow-cancellation-propagation: future          # Cancel flows and their descendants
  10-3-temporal-queries: future                       # Time-based event queries
  10-4-external-system-adapters: future               # HTTP, gRPC, message queue integrations
  10-5-observability-hooks: future                    # OpenTelemetry, metrics, structured logging
  10-6-multi-tenant-isolation: future                 # Namespace isolation for SaaS deployments
  epic-10-retrospective: optional
